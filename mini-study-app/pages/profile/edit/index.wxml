<view class="edit-page">
  <!-- é¡¶éƒ¨è¿”å›æ  -->
  <view class="top-bar">
    <view class="back-button" bindtap="goBack">
      <text>â†</text>
    </view>
    <view class="top-title">ä¿®æ”¹æ‰‹æœºå·</view>
    <view class="top-placeholder"></view>
  </view>

  <!-- ç¼–è¾‘è¡¨å• -->
  <view class="form-container">
    <!-- æ‰‹æœºå·ç¼–è¾‘ -->
    <view class="form-section">
      <view class="section-header">
        <text class="section-icon">ğŸ“±</text>
        <view class="section-info">
          <view class="section-title">æ‰‹æœºå·</view>
          <view class="section-desc">ç”¨äºç™»å½•å’Œæ¥æ”¶é€šçŸ¥</view>
        </view>
      </view>
      <view class="form-item">
        <input 
          class="form-input" 
          type="number"
          maxlength="11"
          placeholder="è¯·è¾“å…¥æ–°æ‰‹æœºå·"
          value="{{mobile}}"
          bindinput="handleMobileInput"
        />
      </view>
      <view class="form-hint">å½“å‰æ‰‹æœºå·ï¼š{{originalMobile}}</view>
    </view>

    <!-- å…¶ä»–ä¿¡æ¯å±•ç¤º -->
    <view class="form-section">
      <view class="section-header">
        <text class="section-icon">â„¹ï¸</text>
        <view class="section-info">
          <view class="section-title">å…¶ä»–ä¿¡æ¯</view>
          <view class="section-desc">ä»¥ä¸‹ä¿¡æ¯æ— æ³•ä¿®æ”¹</view>
        </view>
      </view>

      <view class="info-display">
        <view class="info-row">
          <view class="info-label">å·¥å·</view>
          <view class="info-value">{{user.work_no || user.username}}</view>
        </view>
        <view class="info-row">
          <view class="info-label">å§“å</view>
          <view class="info-value">{{user.name}}</view>
        </view>
        <view class="info-row">
          <view class="info-label">è§’è‰²</view>
          <view class="info-value">{{user.role === 'manager' ? 'åº—é•¿ / ç®¡ç†' : 'å‘˜å·¥'}}</view>
        </view>
        <view class="info-row">
          <view class="info-label">æ‰€å±åº—é•¿</view>
          <view class="manager-tags">
            <block wx:if="{{userManagers && userManagers.length > 0}}">
              <view class="tag" wx:for="{{userManagers}}" wx:key="id">
                {{item.name || item.work_no || item.workNo}}
              </view>
            </block>
            <text wx:else class="empty-text">æš‚æ— åº—é•¿</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="button-group">
    <button class="btn-save" bindtap="handleSave">ä¿å­˜ä¿®æ”¹</button>
    <button class="btn-cancel" bindtap="goBack">å–æ¶ˆ</button>
  </view>
</view>
