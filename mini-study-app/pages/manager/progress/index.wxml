<view class="progress-page">
  <!-- è€ƒè¯•è¿›åº¦éƒ¨åˆ† -->
  <view class="section">
    <view class="section-header">
      <view class="section-title-group">
        <text class="section-icon">ğŸ“Š</text>
        <view>
          <view class="section-title">è€ƒè¯•è¿›åº¦</view>
          <view class="section-subtitle">å„è€ƒè¯•é€šè¿‡ç‡ç»Ÿè®¡</view>
        </view>
      </view>
    </view>
    
    <view class="grid auto-fit" wx:if="{{progress.length}}">
      <view class="card progress-card" wx:for="{{progress}}" wx:key="id">
        <view class="progress-card-header">
          <view class="progress-icon">ğŸ“</view>
          <text class="course-title">{{item.title}}</text>
        </view>
        <view class="progress-bar-wrapper">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{item.passRate}}%;"></view>
          </view>
          <text class="progress-percent">{{item.passRate}}%</text>
        </view>
        <view class="progress-meta">
          <view class="meta-item">
            <text class="meta-label">é€šè¿‡ç‡</text>
            <text class="meta-value">{{item.passRate}}%</text>
          </view>
          <view class="meta-item">
            <text class="meta-label">å¹³å‡åˆ†</text>
            <text class="meta-value">{{item.avgScore}} åˆ†</text>
          </view>
          <view class="meta-item">
            <text class="meta-label">å‚è€ƒäººæ•°</text>
            <text class="meta-value">{{item.attemptCount}} äºº</text>
          </view>
        </view>
      </view>
    </view>
    <view class="empty-block" wx:else>
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— è€ƒè¯•æ•°æ®</text>
    </view>
  </view>

  <!-- å­¦å‘˜å®Œæˆæƒ…å†µéƒ¨åˆ† -->
  <view class="section">
    <view class="section-header">
      <view class="section-title-group">
        <text class="section-icon">ğŸ‘¥</text>
        <view>
          <view class="section-title">å­¦å‘˜å®Œæˆæƒ…å†µ</view>
          <view class="section-subtitle">å‘˜å·¥å­¦ä¹ è¿›åº¦è·Ÿè¸ª</view>
        </view>
      </view>
    </view>
    
    <view wx:if="{{employees.length}}">
      <view class="card employee-card" wx:for="{{employees}}" wx:key="id">
        <view class="employee-header">
          <view class="employee-info-group">
            <view class="employee-avatar">{{item.avatar}}</view>
            <view class="employee-info">
              <text class="employee-name">{{item.name}}</text>
              <text class="employee-store">å·¥å·ï¼š{{item.workNo}}</text>
            </view>
          </view>
          <view class="employee-percent-badge">
            <text class="employee-percent">{{item.percent}}%</text>
          </view>
        </view>
        
        <view class="progress-bar-wrapper">
          <view class="progress-bar small">
            <view class="progress-fill" style="width: {{item.percent}}%;"></view>
          </view>
        </view>
        
        <view class="employee-stats">
          <view class="stat-item">
            <text class="stat-label">å·²å®Œæˆ</text>
            <text class="stat-value highlight">{{item.completed}}/{{item.total}}</text>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item">
            <text class="stat-label">å¾…è¡¥</text>
            <text class="stat-value warning">{{item.pending}}</text>
          </view>
        </view>
        
        <view class="exam-info" wx:if="{{item.latestExam}}">
          <view class="exam-info-header">
            <text class="exam-label">æœ€æ–°æˆç»©</text>
            <view class="exam-score-badge {{item.latestExam.pass ? 'pass' : 'fail'}}">
              <text>{{item.latestExam.score}} åˆ†</text>
            </view>
          </view>
          <view class="exam-details">
            <text class="exam-title">{{item.latestExam.examTitle}}</text>
            <text class="exam-status {{item.latestExam.pass ? 'text-pass' : 'text-fail'}}">
              {{item.latestExam.pass ? 'âœ“ åŠæ ¼' : 'âœ— æœªåŠæ ¼'}}
            </text>
          </view>
        </view>
        <view class="exam-info empty" wx:else>
          <text class="exam-empty-text">å°šæœªå‚åŠ è€ƒè¯•</text>
        </view>
      </view>
    </view>
    <view class="empty-block" wx:else>
      <text class="empty-icon">ğŸ‘¤</text>
      <text class="empty-text">æš‚æ— å‘˜å·¥ç»Ÿè®¡</text>
    </view>
  </view>
  
  <!-- åº•éƒ¨ç©ºé—´ -->
  <view class="bottom-space"></view>
</view>

