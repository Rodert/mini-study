<view class="login-page">
  <view class="login-container">
    <!-- 头部装饰 -->
    <view class="header-decoration">
      <view class="decoration-circle circle-1"></view>
      <view class="decoration-circle circle-2"></view>
    </view>

    <!-- 标题区域 -->
    <view class="header-section">
      <view class="logo-icon">🎓</view>
      <view class="header-title">企业培训中心</view>
      <view class="header-desc">稳定、专业的内部学习平台</view>
    </view>

    <!-- 表单卡片 -->
    <view class="form-card">
      <form bindsubmit="handleSubmit">
        <view class="form-item">
          <text class="label">工号</text>
          <view class="input-wrapper">
            <text class="input-icon">🆔</text>
            <input
              class="input"
              type="text"
              maxlength="30"
              placeholder="请输入工号"
              data-field="workNo"
              bindinput="handleInput"
              value="{{workNo}}"
            />
          </view>
        </view>

        <view class="form-item">
          <text class="label">密码</text>
          <view class="input-wrapper">
            <text class="input-icon">🔐</text>
            <input
              class="input"
              password="true"
              placeholder="请输入密码"
              data-field="password"
              bindinput="handleInput"
              value="{{password}}"
            />
          </view>
        </view>

        <view class="error-text" wx:if="{{error}}">
          <text class="error-icon">⚠️</text>
          {{error}}
        </view>

        <button
          class="btn-primary"
          form-type="submit"
          loading="{{loading}}"
          disabled="{{!workNo || !password || loading}}"
        >
          立即登录
        </button>

        <view class="divider">
          <view class="divider-line"></view>
          <text class="divider-text">或</text>
          <view class="divider-line"></view>
        </view>

        <button class="btn-secondary" type="default" bindtap="goRegister">
          <text class="btn-icon">✏️</text> 注册新账号
        </button>
        <button class="btn-tertiary" type="default" bindtap="quickSwitch">
          <text class="btn-icon">⚡</text> 快速切换示例账号
        </button>
      </form>
    </view>

    <!-- 底部装饰 -->
    <view class="footer-decoration">
      <view class="decoration-circle circle-3"></view>
    </view>

    <!-- 正式环境：底部出品方信息 -->
    <view class="login-footer-info login-footer-official" wx:if="{{!useMock}}">
      <text class="official-footer-text">出品方：企业培训中心 · 2025 v1.0.0</text>
    </view>

    <!-- 开发 / 体验环境：体验账号 + 模式说明 -->
    <view class="login-footer-info" wx:if="{{useMock}}">
      <view class="helper-text">
        <text class="helper-icon">💡</text>
        <text>
          体验账号：员工（employee001 / 123456）、店长（manager001 / 123456）、管理员（admin / admin123456）
        </text>
      </view>

      <!-- 显示当前模式 -->
      <view class="mode-indicator">
        <text class="mode-label">当前模式：</text>
        <text class="mode-value {{useMock ? 'mock' : 'api'}}">
          {{useMock ? 'Mock 数据' : '真实 API'}}
        </text>
        <text class="mode-url" wx:if="{{!useMock}}">{{apiUrl}}</text>
      </view>
    </view>
  </view>
</view>

